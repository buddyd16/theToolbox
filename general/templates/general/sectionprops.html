
{% extends "layout.html"%}

{% block scripts %}
<script src="{{ url_for('general_bp.static', filename='js/SectionProps.js') }}"></script>
<script src="{{ url_for('general_bp.static', filename='js/ShapeTemplates.js') }}"></script>
<script src="{{ url_for('static', filename='js/plotly-2.9.0.min.js') }}"></script>
{% endblock scripts %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col-sm">
            <h2>Section Properties for a Shape</h2>
            <h2>Defined by a Closed Polygon</h2>
            <h4>Inputs:</h4>
            <p>Enter Coordinates in Counter-Clockwise Order</p>
            <button type="button" class="btn btn-secondary btn-success btn-sm" id="add_shape">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg> Add Another Shape
            </button>
            <button type="button" class="btn btn-secondary btn-warning btn-sm" id="copy_shape">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg> Copy Last Shape
            </button>
            <button type="button" class="btn btn-secondary btn-danger btn-sm" id="remove_shape">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                </svg> Remove Last Shape
            </button>

            <form class="form-floating" method=post action="" onsubmit="" onkeydown="return event.key != 'Enter';">
                <div class="container">
                    <div class="row my-2 justify-content-end align-items-center">
                        <div class="col-8">
                            <input class="btn btn-dark btn-lg my-1" type="submit" value="Compute">
                        </div>
                        <div class="col-4 justify-content-end">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label id="imperial_button" class="btn btn-sm {{ " btn-primary active" if inputs["units"] == "imperial" else " btn-secondary"}}">
                                    <input type="radio" name="units" id="imperial" autocomplete="off" value="imperial" {{ "checked" if inputs["units"] == "imperial"}}> Imperial
                                </label>
                                <label id="metric_button" class="btn  btn-sm {{ "  btn-primary active" if inputs["units"] == "metric" else " btn-secondary"}}">
                                    <input type="radio" name="units" id="metric" autocomplete="off" value="metric" {{ "checked" if inputs["units"] == "metric"}}> Metric
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <h7>Shape Count: <input id="numshapes" name="numshapes" class="numshapes input-sm" style="width:95px" type="number" step="any" value="{{ inputs["ShapeCount"] }}" readonly></h7>

                <!-- Begin Accordion -->
                <div id="accordion" class="my-3">
                    <!-- Shape Templates -->
                    <div class="card my-2" id="shapeTemplatesCard">
                        <div class="card-header" id="shapeTemplatesHeading">
                            <button id="shapeTemplatesHeadingButton" type="button" class="btn btn-link" data-toggle="collapse" data-target="#shapeTemplatesCollapse" aria-expanded="flase" aria-controls="shapeTemplatesCollapse">
                                Shape Templates
                            </button>
                        </div>

                        <div id="shapeTemplatesCollapse" class="collapse" aria-labelledby="shapeTemplatesHeading" data-parent="#accordion">
                            <div class="container my-1">
                                <div class="row">
                                    <div class="col-sm">
                                        <label for="templateSelectedShape">Select the Shape for Template results:</label>
                                        <select id="templateSelectedShape" name="templateSelectedShape">
                                            {% for shape in inputs["ShapesIn"] %}
                                            <option value="shape{{ loop.index }}">shape{{ loop.index }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <!-- Rectangle -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Rectangle:</h5>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <td>B:</td>
                                                <td><input id="templateRectangleB" name="templateRectangleB" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Width</td>
                                            </tr>
                                            <tr>
                                                <td>H:</td>
                                                <td><input id="templateRectangleH" name="templateRectangleH" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Height</td>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="rectangle();" class="btn btn-secondary btn-sm">Apply Rectangle</button>
                                    </div>
                                </div>
                                <!-- Trapezoid -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Flat Base Trapezoid</h5>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <tr>
                                                    <td>B:</td>
                                                    <td><input id="templateTrapB" name="templateTrapB" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                    <td>Base Width</td>
                                                </tr>
                                                <tr>
                                                    <td>H<sub>0</sub>:</td>
                                                    <td><input id="templateTrapH1" name="templateTrapH1" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                    <td>Height at (0,0)</td>
                                                </tr>
                                                <tr>
                                                    <td>H<sub>B</sub>:</td>
                                                    <td><input id="templateTrapH2" name="templateTrapH2" class="input-sm" style="width:95px" type="number" step="any" value="0.5"></td>
                                                    <td>Height at (B,0)</td>
                                                </tr>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="flatbaseTrapezoid();" class="btn btn-secondary btn-sm">Apply Flat Base Trapezoid</button>
                                    </div>
                                </div>
                                <!-- Right Triangle -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Right Triangle:</h5>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <td>B:</td>
                                                <td><input id="templateRTriangleB" name="templateRTriangleB" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Width</td>
                                            </tr>
                                            <tr>
                                                <td>H:</td>
                                                <td><input id="templateRTriangleH" name="templateRTriangleH" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Height</td>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="rightTriangle();" class="btn btn-secondary btn-sm">Apply Right Triangle</button>
                                    </div>
                                </div>
                                <!-- General Triangle -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>General Triangle:</h5>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <td>S1:</td>
                                                <td><input id="templateGTriangleS1" name="templateGTriangleS1" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Base Length</td>
                                            </tr>
                                            <tr>
                                                <td>S2:</td>
                                                <td><input id="templateGTriangleS2" name="templateGTriangleS2" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Side 2 Length</td>
                                            </tr>
                                            <tr>
                                                <td>S3:</td>
                                                <td><input id="templateGTriangleS3" name="templateGTriangleS3" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Side 3 Length</td>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="generalTriangle();" class="btn btn-secondary btn-sm">Apply General Triangle</button>
                                    </div>
                                </div>
                                <!-- Circle -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Circle:</h5>
                                        <p>Circle will be approximated by straight segments at 1&deg; increments.</p>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <td>R:</td>
                                                <td><input id="templateCircleRadius" name="templateCircleRadius" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Radius</td>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="fullCircle();" class="btn btn-secondary btn-sm">Apply Full Cirlce</button>
                                        <button type="button" onclick="halfCircle();" class="btn btn-secondary btn-sm">Apply Half Cirlce</button>
                                        <button type="button" onclick="qtrCircle();" class="btn btn-secondary btn-sm">Apply 1/4 Cirlce</button>
                                    </div>
                                </div>
                                <!-- Bezier Fillet -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Bezier Fillet in Right Angle:</h5>
                                        <p>Fillet will be approximated by 50 straight segments.</p>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <td>B:</td>
                                                <td><input id="templateParaFilletB" name="templateParaFilletB" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Fillet Width</td>
                                            </tr>
                                            <tr>
                                                <td>H:</td>                                            
                                                <td><input id="templateParaFilletH" name="templateParaFilletH" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Fillet Height</td>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="bezierFillet();" class="btn btn-secondary btn-sm">Apply Bezier Fillet</button>
                                    </div>
                                </div>
                                <!-- N Side Polygon -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>N Sided Polygon:</h5>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <td>N:</td>
                                                <td><input id="templateNGonN" name="templateNGonN" class="input-sm" style="width:95px" type="number" step="any" value="3"></td>
                                                <td>Number of Sides (3 minimum)</td>
                                            </tr>
                                            <tr>
                                                <td>Start Angle:</td>                                            
                                                <td><input id="templateNGonAngle" name="templateNGonAngle" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Angle of the first vertex</td>
                                            </tr>
                                            <tr>
                                                <td>Radius:</td>                                            
                                                <td><input id="templateNGonRadius" name="templateNGonRadius" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td>Radius from center to each vertex</td>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="nSidePolygon();" class="btn btn-secondary btn-sm">Apply N Sided Polygon</button>
                                    </div>
                                </div>
                                <!-- Steel Shapes - Work in Progress -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Steel Shapes:</h5>
                                        <table class="table table-sm w-auto">
                                            <tr>
                                                <td>Shape Set: </td>
                                                <td>
                                                    <select id="templateSteelShapeSet" class="templateSteelShapeSet input-sm" name="templateSteelShapeSet" style="width:150px" onchange="steelShapeList();">
                                                        <option value="WF">W</option>
                                                        <!-- <option value="S">S</option> -->
                                                        <!-- <option value="M">M</option> --> 
                                                        <!-- <option value="HP">HP</option> -->
                                                        <option value="WT">WT</option>
                                                        <!-- <option value="ST">ST</option> -->
                                                        <!-- <option value="MT">MT</option> -->
                                                        <!-- <option value="C">C</option> -->
                                                       <!--  <option value="MC">MC</option> -->
                                                        <option value="L">L</option>
                                                        <option value="HSS_RECT">HSS Rectangular</option>
                                                        <option value="HSS_SQR">HSS Square</option>
                                                        <option value="HSS_RND">HSS Round</option>
                                                        <option value="PIPE">Pipe</option>
                                                    </select>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Shapes: </td>
                                                <td>
                                                    <select id="templateSteelShapeList" class="templateSteelShapeList input-sm" name="templateSteelShapeList" style="width:150px">
                                                    <!-- Populate options with Javascript-->
                                                    </select>
                                                </td>
                                            </tr>
                                        </table>
                                        <button type="button" onclick="steelShapeTemplate();" class="btn btn-secondary btn-sm">Apply Steel Shape</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Shape Modifications -->
                    <div class="card my-2" id="shapeModificationsCard">
                        <div class="card-header" id="shapeModificationsHeading">
                            <button id="shapeModificationsHeadingButton" type="button" class="btn btn-link" data-toggle="collapse" data-target="#shapeModificationsCollapse" aria-expanded="flase" aria-controls="shapeModificationsCollapse">
                                Shape Modifications
                            </button>
                        </div>

                        <div id="shapeModificationsCollapse" class="collapse" aria-labelledby="shapeModificationsHeading" data-parent="#accordion">
                            <div class="container my-1">
                                <!-- Shape Selector -->
                                <div class="row">
                                    <div class="col-sm">
                                        <label for="modificationsSelectedShape">Select the Shape to Modify:</label>
                                        <select id="modificationsSelectedShape" name="modificationsSelectedShape" onchange="modshapecenter();">
                                            {% for shape in inputs["ShapesIn"] %}
                                            <option value="shape{{ loop.index }}">shape{{ loop.index }}</option>
                                            {% endfor %}
                                        </select>
                                        <p id="mod_xc"></p>
                                        <p id="mod_yc"></p>
                                    </div>
                                </div>
                                <!-- Translation -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Translation :</h5>
                                        <table class="table table-sm">
                                            <tr>
                                                <td rowspan="2" class="text-right align-bottom">Translation: </td>
                                                <td class="text-center">x</td>
                                                <td class="text-center">y</td>
                                            </tr>
                                            <tr>
                                                <td><input id="translate_shape_x" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td><input id="translate_shape_y" class="input-sm" style="width:95px" type="number" step="any" value="1"></td>
                                                <td><button type="button" onclick="translateVertices();" class="btn btn-secondary btn-sm">Translate</button></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <!-- Rotation -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Rotation :</h5>
                                        <table class="table table-sm">
                                            <tr>
                                                <td rowspan="2" class="align-bottom">Rotation (degrees)<br>Counter-Clockwise Positive</td>
                                                <td colspan="2" class="text-center">Center of Rotation</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">x</td>
                                                <td class="text-center">y</td>
                                            </tr>
                                            <tr>
                                                <td><input id="rotate_shape_theta" class="input-sm" style="width:95px" type="number" step="any" value="0"></td>
                                                <td><input id="rotate_shape_x" class="input-sm" style="width:95px" type="number" step="any" value="0"></td>
                                                <td><input id="rotate_shape_y" class="input-sm" style="width:95px" type="number" step="any" value="0"></td>
                                                <td><button type="button" onclick="rotateVertices();" class="btn btn-secondary btn-sm">Rotate</button></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                
                                <!-- Mirror -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Mirror :</h5>
                                        <table class="table table-sm">
                                            <tr>
                                                <td><button type="button" onclick="mirrorY();" class="btn btn-secondary btn-sm">Mirror about global Y</button></td>
                                                <td><button type="button" onclick="mirrorX();" class="btn btn-secondary btn-sm">Mirror about global X</button></td>
                                                <td><button type="button" onclick="mirrorlocalY();" class="btn btn-secondary btn-sm">Mirror about local Y</button></td>
                                                <td><button type="button" onclick="mirrorlocalX();" class="btn btn-secondary btn-sm">Mirror about local X</button></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>

                                <!-- Align -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Align to Axis :</h5>
                                        <table class="table table-sm">
                                            <tr>
                                                <td><button type="button" onclick="alignorigin();" class="btn btn-secondary btn-sm">Align to 0,0</button></td>
                                                <td><button type="button" onclick="alignX();" class="btn btn-secondary btn-sm">Align to global X</button></td>
                                                <td><button type="button" onclick="alignY();" class="btn btn-secondary btn-sm">Align to global Y</button></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>

                                <!-- Align To Shape -->
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>Alignment based on another Shape :</h5>
                                        <label for="modificationsAlignShape">Select the Shape to Align With:</label>
                                        <select id="modificationsAlignShape" name="modificationsAlignShape">
                                            {% for shape in inputs["ShapesIn"] %}
                                            <option value="shape{{ loop.index }}">shape{{ loop.index }}</option>
                                            {% endfor %}
                                        </select>
                                        <table class="table table-sm">
                                            <tr>
                                                <td><button type="button" onclick="aligncenters();" class="btn btn-secondary btn-sm">Align Centers</button></td>
                                                <td><button type="button" onclick="aligntops();" class="btn btn-secondary btn-sm">Align Tops</button></td>
                                                <td><button type="button" onclick="alignbases();" class="btn btn-secondary btn-sm">Align Bases</button></td>
                                                <td><button type="button" onclick="alignvertical();" class="btn btn-secondary btn-sm">Align Vertical Axis</button></td>
                                            </tr>
                                            <tr>
                                                <td><button type="button" onclick="alignhorizontal();" class="btn btn-secondary btn-sm">Align Horizontal Axis</button></td>
                                                <td><button type="button" onclick="alignleft();" class="btn btn-secondary btn-sm">Align Left</button></td>
                                                <td><button type="button" onclick="alignright();" class="btn btn-secondary btn-sm">Align Right</button></td>
                                            </tr>
                                            <tr>
                                                <td><button type="button" onclick="stackover();" class="btn btn-secondary btn-sm">Stack Over</button></td>
                                                <td><button type="button" onclick="stackunder();" class="btn btn-secondary btn-sm">Stack Under</button></td>
                                                <td><button type="button" onclick="stackleft();" class="btn btn-secondary btn-sm">Stack Left</button></td>
                                                <td><button type="button" onclick="stackright();" class="btn btn-secondary btn-sm">Stack Right</button></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- loop through input shapes -->
                    {% for shape in inputs["ShapesIn"] %}                    
                    <!-- Shape Card -->
                    <div class="card my-2" id="shape{{ loop.index }}Card">
                        <div class="card-header" id="shape{{ loop.index }}Heading">
                            <h5 class="mb-0">
                                <button id="shape{{ loop.index }}HeadingButton" type="button" class="btn btn-link" data-toggle="collapse" data-target="#shape{{ loop.index }}Collapse" aria-expanded="flase" aria-controls="shape{{ loop.index }}Collapse">
                                    shape{{ loop.index }} Input Data
                                </button>
                            </h5>
                        </div>

                        <div id="shape{{ loop.index }}Collapse" class="collapse" aria-labelledby="shape{{ loop.index }}Heading" data-parent="#accordion">
                            <div class="card-body" id="shape{{ loop.index }}Body">
                                <h6>Shape{{ loop.index }} Properties:</h6>
                                <table id="shape{{ loop.index }}PropsTable" class="table table-sm w-auto">
                                    <tr>
                                        <td>Modulus of Elasticity, E</td>
                                        <td><input id="shape{{ loop.index }}E" name="shape{{ loop.index }}E" class="input-sm" style="width:95px" type="number" step="any" value="{{ shape["E"] }}"></td>
                                        <td class="stress_units">{{ "ksi" if inputs["units"] == "imperial" else "MPa" }}</td>
                                    <tr>
                                        <td>Yield Stress: </td>
                                        <td><input id="shape{{ loop.index }}Fy" name="shape{{ loop.index }}Fy" class="input-sm" style="width:95px" type="number" step="any" value="{{ shape["Fy"] }}"></td>
                                        <td class="stress_units">{{ "ksi" if inputs["units"] == "imperial" else "MPa" }}</td>
                                    <tr>
                                        <td>Void or Solid?</td>
                                        <td>
                                            <select id="shape{{ loop.index }}VoidSelect" name="shape{{ loop.index }}Solid" class="input-sm" style="width:95px" onchange="UpdateChart();">
                                                <option value="1" {{ "selected=""selected""" if shape["Solid"] == 1}}> Solid </option>
                                                <option value="0" {{ "selected=""selected""" if shape["Solid"] != 1}}> Void </option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Plot Color</td>
                                        <td><input type="color" id="shape{{ loop.index }}Color" name="shape{{ loop.index }}Color" value="{{ shape["Color"] }}" onchange="UpdateChart();"></td>
                                    </tr>
                                </table>
                                <h6>Shape{{ loop.index }} Vertices:</h6>
                                <table id="shape{{ loop.index }}vertexTable" class="table table-sm w-auto">
                                    <thead>
                                        <tr>
                                        <th> Vertex ID </th>
                                        <th class="text-center xvertexheader"> x ({{ "in" if inputs["units"] == "imperial" else "mm" }}) </th>
                                        <th class="text-center yvertexheader"> y ({{ "in" if inputs["units"] == "imperial" else "mm" }}) </th>
                                        </tr>
                                    </thead>
                                    <tbody id="shape{{ loop.index }}vertexTableBody">
                                    <!-- Persist Form Data from Input after POST -->
                                    {% set outer_loop = loop %}
                                    {% for x in shape["X"] %}
    
                                    {% if loop.index == shape["X"]|length %}
                                        <tr class="vertex">
                                        <td>Close</td>
                                        <td><input id="shape{{ outer_loop.index }}lastX" name="shape{{ outer_loop.index }}x" class="shape{{ outer_loop.index }}x input-sm" style="width:95px" type="number" step="any" value="{{x}}" readonly></td>
                                        <td><input id="shape{{ outer_loop.index }}lastY" name="shape{{ outer_loop.index }}y" class="shape{{ outer_loop.index }}y input-sm" style="width:95px" type="number" step="any" value="{{shape["Y"][-1]}}" readonly></td>
                                        </tr>
                                    {% elif loop.index > 3 %}
                                    <tr class="user vertex">
                                    <td>{{loop.index}}</td>
                                    <td><input name="shape{{ outer_loop.index }}x" class="shape{{ outer_loop.index }}x input-sm" style="width:95px" type="number" step="any" value="{{x}}" onchange="areaAndCentroid('shape{{ outer_loop.index }}');"></td>
                                    <td><input name="shape{{ outer_loop.index }}y" class="shape{{ outer_loop.index }}y input-sm" style="width:95px" type="number" step="any" value="{{shape["Y"][loop.index0]}}" onchange="areaAndCentroid('shape{{ outer_loop.index }}');"></td>
                                    <td>
                                        <button type="button" onclick="addVertexRow(this,'shape{{ outer_loop.index }}');" class="btn btn-secondary btn-success btn-sm">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                        </svg>
                                        </button>
                                        <a href="#" onclick="removeVertexRow(this,'shape{{ outer_loop.index }}'); return false;" class="badge badge-danger" style="margin-left: 5px">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                                            <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                        </a>
                                    </td>
                                    </tr>
                                    {% elif loop.index == 3 %}
                                    <tr class="user vertex">
                                    <td>{{loop.index}}</td>
                                    <td><input name="shape{{ outer_loop.index }}x" class="shape{{ outer_loop.index }}x input-sm" style="width:95px" type="number" step="any" value="{{x}}" onchange="areaAndCentroid('shape{{ outer_loop.index }}');"></td>
                                    <td><input name="shape{{ outer_loop.index }}y" class="shape{{ outer_loop.index }}y input-sm" style="width:95px" type="number" step="any" value="{{shape["Y"][loop.index0]}}" onchange="areaAndCentroid('shape{{ outer_loop.index }}');"></td>
                                    <td>
                                        <button type="button" onclick="addFirstVertexRow('shape{{ outer_loop.index }}');" class="btn btn-secondary btn-success btn-sm">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                        </svg>
                                        </button>
                                    </td>
                                    </tr>
                                    {% else %}
                                    <tr class="user vertex">
                                    <td>{{loop.index}}</td>
                                    <td><input id="shape{{ outer_loop.index }}firstX" name="shape{{ outer_loop.index }}x" class="shape{{ outer_loop.index }}x input-sm" style="width:95px" type="number" step="any" value="{{x}}" onchange="first_to_last('shape{{ outer_loop.index }}');"></td>
                                    <td><input id="shape{{ outer_loop.index }}firstY" name="shape{{ outer_loop.index }}y" class="shape{{ outer_loop.index }}y input-sm" style="width:95px" type="number" step="any" value="{{shape["Y"][loop.index0]}}" onchange="first_to_last('shape{{ outer_loop.index }}');"></td>
                                    </tr>
                                    {% endif %}
                                    {% endfor %}
                                    </tbody>
                                </table>
                                <h6>Quick Properties</h6>
                                <table class="table table-sm">
                                    <tr>
                                        <td>Area :</td>
                                        <td id="shape{{ loop.index }}Area"></td>
                                        <td class="area_units">{{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>2</sup></td>
                                    </tr>
                                    <tr>
                                        <td>x<sub>c</sub></td>
                                        <td id="shape{{ loop.index }}Xc"></td>
                                        <td class="length_units">{{ "in" if inputs["units"] == "imperial" else "mm" }}</td>
                                    </tr>
                                    <tr>
                                        <td>y<sub>c</sub></td>
                                        <td id="shape{{ loop.index }}Yc"></td>
                                        <td class="length_units">{{ "in" if inputs["units"] == "imperial" else "mm" }}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <!-- End Accordion -->
            </form>
        </div>
        <div class="col-5">
            <!-- Plotly Div -->
            <div id="SectionPlot" class="w-100 plot"></div>
        </div>
    </div>
    <div class="row">
    {% if results["CompositeSection"] != None %}
    <table class="table table-striped table-hover table-sm table-dark">
        <tr><td colspan="3" class="text-center text-nowrap"><strong><u><h4>Composite Section Results</h4></u></strong></td></tr>
        <tr><td class="text-right text-nowrap">Area </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].area)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>2</sup></td><td>Cross-Section Area</td></tr>
        <tr><td class="text-right text-nowrap">Transformed Area </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].transformedarea)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>2</sup></td><td>Transformed Cross-Section Area</td></tr>
        <tr><td class="text-right text-nowrap">Centroid </td><td class="text-center text-nowrap">({{"%.3f"|format(results["CompositeSection"].cx)}},{{"%.3f"|format(results["CompositeSection"].cy)}}) {{ "in" if inputs["units"] == "imperial" else "mm" }}</td><td>Centroid in Global Coordinates</td></tr>
    </table>
    <!-- Properties about the centroid -->
    <table class="table table-striped table-hover table-sm table-dark">
        <tr><td colspan="3" class="text-center text-nowrap"><strong><u>Properties about the Centroidal XX,YY Axis</u></strong></td></tr>
        <tr><td class="text-right text-nowrap">I<sub>xx</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Ixx)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the XX-Axis, ∫ y<sup>2</sup> dA</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>yy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Iyy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the YY-Axis, ∫ x<sup>2</sup> dA</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>xxyy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Ixxyy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Product of Inertia, ∫ x y dA </td></tr>
        <tr><td class="text-right text-nowrap">I<sub>zz</sub> or J<sub>zz</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Jzz)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Polar Moment of Inertia, I<sub>xx</sub>+I<sub>yy</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>xx,top</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].sxx_top)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Top Most Vertex, I<sub>xx</sub> / y<sub>max</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>xx,bottom</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].sxx_bottom)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Bottom Most Vertex, I<sub>xx</sub> / y<sub>min</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>yy,left</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].syy_left)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Left Most Vertex, I<sub>yy</sub> / x<sub>min</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>yy,right</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].syy_left)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Right Most Vertex, I<sub>yy</sub> / x<sub>max</sub></td></tr>
        <tr><td class="text-right text-nowrap">r<sub>xx</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].rxx)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the XX-axis, &radic; I<sub>xx</sub>/A<sub>transformed</sub></td></tr>
        <tr><td class="text-right text-nowrap">r<sub>yy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].ryy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the YY-axis, &radic; I<sub>yy</sub>/A<sub>transformed</sub></td></tr>
        <tr><td class="text-right text-nowrap">r<sub>zz</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].rzz)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the ZZ-axis, &radic; I<sub>zz</sub>/A<sub>transformed</sub></td></tr>
    </table>
    <!-- Plastic Modulus -->
    <table class="table table-striped table-hover table-sm table-dark">
        <tr><td colspan="3" class="text-center text-nowrap"><strong><u>Plastic Section Moduli, Fy={{"%.3f"|format(results["CompositeSection"].Zxx["Fy"])}} {{ "ksi" if inputs["units"] == "imperial" else "Mpa" }}</u></strong></td></tr>
        <tr><td class="text-right text-nowrap">Z<sub>xx</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Zxx["Zx"])}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Plastic Section Modulus for Moments about the XX-Axis ( Error: {{"%.3e"|format(results["CompositeSection"].Zxx["Error"])}}, Iterations: {{results["CompositeSection"].Zxx["Iterations"]}} )</td></tr>
        <tr><td class="text-right text-nowrap">Z<sub>yy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Zyy["Zy"])}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Plastic Section Modulus for Moments about the YY-Axis ( Error: {{"%.3e"|format(results["CompositeSection"].Zyy["Error"])}}, Iterations: {{results["CompositeSection"].Zyy["Iterations"]}} )</td></tr>
        <tr><td class="text-right text-nowrap">Z<sub>uu</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Zuu["Zu"])}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Plastic Section Modulus for Moments about the UU-Axis ( Error: {{"%.3e"|format(results["CompositeSection"].Zuu["Error"])}}, Iterations: {{results["CompositeSection"].Zuu["Iterations"]}} )</td></tr>
        <tr><td class="text-right text-nowrap">Z<sub>vv</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Zvv["Zv"])}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Plastic Section Modulus for Moments about the VV-Axis ( Error: {{"%.3e"|format(results["CompositeSection"].Zvv["Error"])}}, Iterations: {{results["CompositeSection"].Zvv["Iterations"]}} )</td></tr>
    </table>
    <!-- Principal Axis Properties -->
    <table class="table table-striped table-hover table-sm table-dark">
        <tr><td colspan="3" class="text-center text-nowrap"><strong><u>Principal Axis</u></strong></td></tr>
        <tr><td class="text-right text-nowrap">I<sub>uu</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Iuu)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the UU-Axis</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>vv</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Ivv)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the VV-Axis</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>uuvv</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].Iuuvv)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Product of Inertia</td></tr>
        <tr><td class="text-right text-nowrap">&#952;<sub>uu</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].theta1)}}<sup>o</sup></td><td>Rotation from XX-Axis to the UU-Axis</td></tr>
        <tr><td class="text-right text-nowrap">&#952;<sub>vv</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(results["CompositeSection"].theta2)}}<sup>o</sup></td><td>Rotation from XX-Axis to the VV-Axis</td></tr>
    </table>
    {% endif %}
    {% if results["Sections"] != None %}
    {% for shape in results["Sections"] %}
    <!-- General Results Area and Centroid -->
        <table class="table table-striped table-hover table-sm">
        <tr><td colspan="3" class="text-center text-nowrap"><strong><u><h4>Shape{{loop.index}} Results</h4></u></strong></td></tr>

        <!-- Warnings if there are any -->
        {% if shape.warnings != '' %}
        <tr><td colspan="3" class="text-center bg-warning"><p class="text-dark"><strong>{{shape.warnings}}</strong></p></td></tr>
        {% endif %}

        <tr><td class="text-right text-nowrap">Area </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.area)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>2</sup></td><td>Cross-Section Area</td></tr>
        <tr><td class="text-right text-nowrap">Centroid </td><td class="text-center text-nowrap">({{"%.3f"|format(shape.cx)}},{{"%.3f"|format(shape.cy)}}) {{ "in" if inputs["units"] == "imperial" else "mm" }}</td><td>Centroid in Global Coordinates</td></tr>
        <tr><td class="text-right text-nowrap">n</td><td class="text-center text-nowrap">{{"%.3f"|format(shape.n)}}</td><td>Modular Ratio relative to Shape 1, E<sub>s</sub>/E<sub>1</sub></td></tr>
        </table>
    <!-- Properties about the centroid -->
        <table class="table table-striped table-hover table-sm">
        <tr><td colspan="3" class="text-center text-nowrap"><strong><u>Properties about the Local Shape Centroidal XX,YY Axis</u></strong></td></tr>
        <tr><td class="text-right text-nowrap">I<sub>xx</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Ixx)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the XX-Axis, ∫ y<sup>2</sup> dA</td></td></tr>
        <tr><td class="text-right text-nowrap">I<sub>yy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Iyy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the YY-Axis, ∫ x<sup>2</sup> dA</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>xxyy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Ixxyy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Product of Inertia, ∫ x y dA </td></tr>
        <tr><td class="text-right text-nowrap">I<sub>zz</sub> or J<sub>zz</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Jzz)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Polar Moment of Inertia, I<sub>xx</sub>+I<sub>yy</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>xx,top</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.sxx_top)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Top Most Vertex, I<sub>xx</sub> / y<sub>max</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>xx,bottom</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.sxx_bottom)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Bottom Most Vertex, I<sub>xx</sub> / y<sub>min</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>yy,left</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.syy_left)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Left Most Vertex, I<sub>yy</sub> / x<sub>min</sub></td></tr>
        <tr><td class="text-right text-nowrap">S<sub>yy,right</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.syy_left)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Right Most Vertex, I<sub>yy</sub> / x<sub>max</sub></td></tr>
        <tr><td class="text-right text-nowrap">r<sub>xx</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.rxx)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the XX-axis, &radic; I<sub>xx</sub>/A</td></tr>
        <tr><td class="text-right text-nowrap">r<sub>yy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.ryy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the YY-axis, &radic; I<sub>yy</sub>/A</td></td></tr>
        <tr><td class="text-right text-nowrap">r<sub>zz</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.rzz)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the ZZ-axis, &radic; I<sub>zz</sub>/A</td></td></tr>
        </table>
    <!-- Properties about the global x and y -->
        <table class="table table-striped table-hover table-sm ">
        <tr><td colspan="3"  class="text-center text-nowrap"><strong><u>Properties about the Global X,Y Axis</u></strong></td></tr>
        <tr><td class="text-right text-nowrap">I<sub>x</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Ix)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the X-Axis</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>y</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Iy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the Y-Axis</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>xy</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Ixy)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Product of Inertia</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>z</sub> or J<sub>z</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Jz)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Polar Moment of Inertia</td></tr>
        <tr><td class="text-right text-nowrap">S<sub>x,top</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.sx_top)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Top Most Vertex</td></tr>
        <tr><td class="text-right text-nowrap">S<sub>x,bottom</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.sx_bottom)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Bottom Most Vertex</td></tr>
        <tr><td class="text-right text-nowrap">S<sub>y,left</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.sy_left)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Left Most Vertex</td></tr>
        <tr><td class="text-right text-nowrap">S<sub>y,right</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.sy_left)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Elastic Section Modulus to the Right Most Vertex</td></tr>
        <tr><td class="text-right text-nowrap">r<sub>x</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.rx)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the X-axis</td></tr>
        <tr><td class="text-right text-nowrap">r<sub>y</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.ry)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the Y-axis</td></tr>
        <tr><td class="text-right text-nowrap">r<sub>z</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.rz)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>3</sup></td><td>Radius of Gyration about the Z-axis</td></tr>
        </table>
    <!-- Principal Axis Properties -->
        <table class="table table-striped table-hover table-sm">
        <tr><td colspan="3" class="text-center text-nowrap"><strong><u>Principal Axis</u></strong></td></tr>
        <tr><td class="text-right text-nowrap">I<sub>uu</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Iuu)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the UU-Axis</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>vv</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Ivv)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Moment of Inertia (Second Moment of Area) about the VV-Axis</td></tr>
        <tr><td class="text-right text-nowrap">I<sub>uuvv</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.Iuuvv)}} {{ "in" if inputs["units"] == "imperial" else "mm" }}<sup>4</sup></td><td>Product of Inertia</td></tr>
        <tr><td class="text-right text-nowrap">&#952;<sub>uu</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.theta1)}}<sup>o</sup></td><td>Rotation from XX-Axis to the UU-Axis</td></tr>
        <tr><td class="text-right text-nowrap">&#952;<sub>vv</sub> </td><td class="text-center text-nowrap">{{"%.3f"|format(shape.theta2)}}<sup>o</sup></td><td>Rotation from XX-Axis to the VV-Axis</td></tr>
        </table>
    {% endfor %}
    {% endif %}
    </div>
</div>

<script type="text/javascript">
// Initialize the Shape Count
let shape_count = {{ inputs["ShapeCount"] }};
console.log(shape_count);

// Initialize Units
let units = "imperial";

{% if results["CompositeSection"] != None %}
let modelRun = 1;
let centroid_x = [ {{"%.3f"|format(results["CompositeSection"].cx)}} ];
let centroid_y = [ {{"%.3f"|format(results["CompositeSection"].cy)}} ];
let xx_axis_x = [ {{results["CompositeSection"].xx_axis[0]}}, {{results["CompositeSection"].xx_axis[2]}} ];
let xx_axis_y = [ {{results["CompositeSection"].xx_axis[1]}}, {{results["CompositeSection"].xx_axis[3]}} ];
let yy_axis_x = [ {{results["CompositeSection"].yy_axis[0]}}, {{results["CompositeSection"].yy_axis[2]}} ];
let yy_axis_y = [ {{results["CompositeSection"].yy_axis[1]}}, {{results["CompositeSection"].yy_axis[3]}} ];
let uu_axis_x = [ {{results["CompositeSection"].uu_axis[0]}}, {{results["CompositeSection"].uu_axis[2]}} ];
let uu_axis_y = [ {{results["CompositeSection"].uu_axis[1]}}, {{results["CompositeSection"].uu_axis[3]}} ];
let vv_axis_x = [ {{results["CompositeSection"].vv_axis[0]}}, {{results["CompositeSection"].vv_axis[2]}} ];
let vv_axis_y = [ {{results["CompositeSection"].vv_axis[1]}}, {{results["CompositeSection"].vv_axis[3]}} ];
let pnaxx_x = [ {{results["CompositeSection"].pnaxx[0]}}, {{results["CompositeSection"].pnaxx[2]}} ];
let pnaxx_y = [ {{results["CompositeSection"].pnaxx[1]}}, {{results["CompositeSection"].pnaxx[3]}} ];
let pnayy_x = [ {{results["CompositeSection"].pnayy[0]}}, {{results["CompositeSection"].pnayy[2]}} ];
let pnayy_y = [ {{results["CompositeSection"].pnayy[1]}}, {{results["CompositeSection"].pnayy[3]}} ];
{% else %}
let modelRun = 0;
let centroid_x = 0;
let centroid_y = 0;
let xx_axis_x = 0;
let xx_axis_y = 0;
let yy_axis_x = 0;
let yy_axis_y = 0;
let uu_axis_x = 0;
let uu_axis_y = 0;
let vv_axis_x = 0
let vv_axis_y = 0;
let pnaxx_x = 0;
let pnaxx_y = 0;
let pnayy_x = 0;
let pnayy_y = 0;
{% endif %}
</script>


{% endblock content %}
